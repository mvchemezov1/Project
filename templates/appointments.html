<!-- Документ HTML с языком по умолчанию, установленным на английский -->
<!DOCTYPE html>
<html lang="en">
<!-- Заголовок страницы, содержащий метатеги и ссылки на внешние ресурсы -->
<head>
    <!-- Кодировка страницы, установленная на UTF-8 -->
    <meta charset="UTF-8">
    <!-- Заголовок страницы, отображаемый в标题е окна браузера -->
    <title>Записи пользователя</title>
</head>
<!-- Стили для страницы, определяющие внешний вид элементов -->
<style>
    /* Основной шрифт страницы, установленный на Arial, sans-serif */
    body {
        font-family: Arial, sans-serif;
        /* Отступы от краев страницы, установленные на 20 пикселей */
        margin: 20px;
    }
    /* Стили для таблицы, определяющие ее размер и внешний вид */
    table {
        /* Ширина таблицы, установленная на 100% */
        width: 100%;
        /* Стиль границ таблицы, установленный на collapse */
        border-collapse: collapse;
    }
    /* Стили для ячеек таблицы, определяющие их размер и внешний вид */
    th, td {
        /* Границы ячеек, установленные на 1 пиксель */
        border: 1px solid #ccc;
        /* Отступы внутри ячеек, установленные на 8 пикселей */
        padding: 8px;
        /* Выравнивание текста в ячейках, установленное на левое */
        text-align: left;
    }
    /* Стили для заголовков таблицы, определяющие их цвет фона */
    th {
        /* Цвет фона заголовков, установленный на #f4f4f4 */
        background-color: #f4f4f4;
    }
</style>
<!-- Тело страницы, содержащее основной контент -->
<body>
    <!-- Заголовок страницы, отображаемый на экране -->
    <h1>Записи пользователя</h1>
    <!-- Таблица, содержащая записи пользователя -->
    <table border="1">
        <!-- Заголовки таблицы -->
        <thead>
            <tr>
                <!-- Заголовки таблицы, определяющие ее столбцы -->
                <th>Доктор</th>
                <th>Дата</th>
                <th>Время приёма</th>
                <th>Статус</th>
            </tr>
        </thead>
        <!-- Тело таблицы, содержащее записи пользователя -->
        <tbody id="appointments-table-body">
            <!-- Данные будут добавлены с помощью JavaScript -->
        </tbody>
    </table>

    <!-- Скрипт, добавляющий данные в таблицу -->
    <script>
        // Отправка запроса на сервер для получения данных
        fetch('/api/appointments/user')
            // Обработка ответа сервера
           .then(response => response.json())
            // Обработка полученных данных
           .then(data => {
                // Получение элемента таблицы для добавления данных
                const tbody = document.getElementById('appointments-table-body');
                // Перебор полученных данных и добавление их в таблицу
                data.forEach(appointment => {
                    // Создание новой строки таблицы
                    const row = document.createElement('tr');
                    // Добавление данных в строку таблицы
                    row.innerHTML = `
                        <td>${appointment.doctor_id}</td>
                        <td>${appointment.date}</td>
                        <td>${appointment.appointment_date}</td>
                        <td>${appointment.status}</td>
                    `;
                    // Добавление строки в таблицу
                    tbody.appendChild(row);
                });
            })
            // Обработка ошибок
           .catch(error => console.error('Ошибка:', error));
    </script>
</body>
</html>

